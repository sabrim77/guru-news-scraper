@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================================================
   Sentilyzer UI â€” Professional theme (Tailwind + light CSS tokens)
   ======================================================================== */

/* ---------------- Tokens (palette + effects) ---------------- */
:root{
  /* Base ink */
  --ink-1: #0b1220;
  --ink-2: #0d1628;

  /* Text */
  --txt:        #e5e7eb;
  --txt-dim:    #cbd5e1;
  --txt-muted:  #94a3b8;

  /* Panels / borders */
  --panel:       rgba(2,6,23,.60);
  --panel-soft:  rgba(2,6,23,.40);
  --panel-ghost: rgba(2,6,23,.25);
  --border-1:    rgba(148,163,184,.22);
  --border-2:    rgba(148,163,184,.30);

  /* Accents */
  --pos-300: #6ee7b7; --pos-500: #10b981; /* emerald */
  --neg-300: #fda4af; --neg-500: #f43f5e; /* rose    */
  --neu-300: #cbd5e1; --neu-500: #64748b; /* slate   */
  --sky-400: #60a5fa; --sky-500: #3b82f6; /* blue    */
  --vio-400: #a78bfa; --vio-500: #8b5cf6; /* violet  */

  /* Effects */
  --glass:      blur(8px);
  --shadow-lg:  0 18px 40px rgba(2,6,23,.35);
  --shadow-sm:  0 6px 16px rgba(2,6,23,.25);
  --ring-emerald: 0 0 0 3px rgba(16,185,129,.16);
  --ring-blue:    0 0 0 3px rgba(59,130,246,.16);

  /* Charts */
  --chart-grid: rgba(148,163,184,.18);
  --chart-tick: rgba(203,213,225,.75);
  --chart-legend: rgba(226,232,240,.85);
  --chart-cross: rgba(148,163,184,.35);
  --tooltip-bg: rgba(2,6,23,.92);
  --tooltip-bd: rgba(148,163,184,.25);
}

/* Optional light tokens */
:root.light {
  --txt: #0f172a;
  --txt-dim: #334155;
  --txt-muted: #475569;
  --panel: rgba(241,245,249,.8);
  --panel-soft: rgba(241,245,249,.65);
  --panel-ghost: rgba(241,245,249,.45);
  --border-1: rgba(100,116,139,.28);
  --border-2: rgba(100,116,139,.38);

  --chart-grid: rgba(100,116,139,.25);
  --chart-tick: rgba(30,41,59,.8);
  --chart-legend: rgba(30,41,59,.9);
  --chart-cross: rgba(100,116,139,.45);
  --tooltip-bg: rgba(255,255,255,.96);
  --tooltip-bd: rgba(100,116,139,.25);
}

/* ---------------- Base (global) ---------------- */
@layer base {
  html, body, #root { height: 100%; }

  body {
    @apply text-slate-100;
    background:
      radial-gradient(1200px 800px at 10% -10%, rgba(16,185,129,0.07), transparent 50%),
      radial-gradient(900px 700px at 110% 0%, rgba(59,130,246,0.08), transparent 40%),
      linear-gradient(180deg, var(--ink-1), var(--ink-2));
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: var(--txt);
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
  }

  /* Focus styles for keyboard users */
  :focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(59,130,246,.28), 0 0 0 1px rgba(59,130,246,.45) inset;
    border-radius: 8px;
  }

  /* Scrollbar (WebKit) */
  *::-webkit-scrollbar { width: 10px; height: 10px; }
  *::-webkit-scrollbar-thumb {
    background: rgba(148,163,184,.25);
    border-radius: 999px;
  }
  *::-webkit-scrollbar-thumb:hover { background: rgba(148,163,184,.35); }
}

/* ---------------- Components ---------------- */
@layer components {
  /* Panels */
  .card {
    @apply rounded-2xl p-5 border shadow-lg;
    background: linear-gradient(180deg, var(--panel), var(--panel-soft));
    border-color: var(--border-1);
    backdrop-filter: var(--glass);
    -webkit-backdrop-filter: var(--glass);
    box-shadow: var(--shadow-lg);
  }
  .card:hover { border-color: var(--border-2); }
  .card--elevated { box-shadow: 0 20px 48px rgba(2,6,23,.42); }

  /* Surface variants */
  .surface       { background: linear-gradient(180deg, var(--panel), var(--panel-soft)); }
  .surface-soft  { background: var(--panel-soft); }
  .surface-ghost { background: var(--panel-ghost); }
  .surface-border{ border: 1px solid var(--border-1); }

  /* Drop zone */
  .dropzone {
    @apply rounded-2xl border transition;
    border-color: var(--border-1);
    background: rgba(2,6,23,.35);
  }
  .dropzone--active { border-color: rgba(59,130,246,.55); box-shadow: var(--ring-blue); }

  /* Section divider */
  .hr-gradient { height:1px; background: linear-gradient(90deg, transparent, var(--border-2), transparent); }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl
           px-4 py-2 font-medium transition
           border text-slate-100;
    background: linear-gradient(180deg, rgba(15,23,42,.95), rgba(2,6,23,.92));
    border-color: var(--border-1);
    box-shadow: var(--shadow-sm);
  }
  .btn:hover   { @apply -translate-y-[1px]; border-color: var(--border-2); }
  .btn:active  { @apply translate-y-0; }
  .btn:disabled{ @apply opacity-50 cursor-not-allowed; }

  .btn-primary{
    border-color: rgba(16,185,129,.45);
    background: linear-gradient(180deg, rgba(16,185,129,.18), rgba(16,185,129,.12));
    box-shadow: 0 10px 28px rgba(16,185,129,.14);
  }
  .btn-primary:hover{ box-shadow: 0 12px 32px rgba(16,185,129,.22); }

  .btn-secondary{
    border-color: rgba(59,130,246,.45);
    background: linear-gradient(180deg, rgba(59,130,246,.18), rgba(59,130,246,.12));
    box-shadow: 0 10px 28px rgba(59,130,246,.14);
  }
  .btn-secondary:hover{ box-shadow: 0 12px 32px rgba(59,130,246,.22); }

  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2
           font-medium transition text-slate-100;
    background: rgba(51,65,85,.4);
    border: 1px solid var(--border-1);
  }

  /* Inputs */
  .input, .select, .textarea {
    @apply w-full rounded-xl text-slate-100 px-3 py-2 outline-none;
    background: var(--panel-soft);
    border: 1px solid var(--border-1);
    transition: border-color .15s ease, box-shadow .15s ease, background .2s ease;
  }
  .input:focus, .select:focus, .textarea:focus {
    border-color: rgba(94,234,212,.35);
    box-shadow: var(--ring-emerald);
  }
  .textarea { @apply min-h-[120px] resize-y; }

  input[type="file"]{
    background: var(--panel-soft);
    border: 1px solid var(--border-1);
    color: var(--txt);
    padding: 8px 10px;
    border-radius: 10px;
  }

  /* Pills / Badges */
  .pill {
    @apply inline-flex items-center gap-2 rounded-full px-3 py-1
           text-xs font-semibold;
    border: 1px solid var(--border-1);
    background: rgba(148,163,184,.10);
    color: var(--txt-dim);
  }
  .pill--pos{
    background: rgba(16,185,129,.12);
    border-color: rgba(16,185,129,.35);
    color: #bbf7d0;
  }
  .pill--neg{
    background: rgba(244,63,94,.12);
    border-color: rgba(244,63,94,.38);
    color: #ffe4e6;
  }
  .pill--neu{
    background: rgba(148,163,184,.12);
    border-color: var(--border-2);
    color: #e5e7eb;
  }

  /* Progress bar */
  .progress { @apply h-2 rounded-full overflow-hidden; background: rgba(71,85,105,.55); }
  .fill{ height:100%; width:0%; transition: width .35s ease; }
  .fill--pos{ background: linear-gradient(90deg, var(--pos-300), var(--pos-500)); box-shadow: inset 0 0 0 1px rgba(16,185,129,.25); }
  .fill--neg{ background: linear-gradient(90deg, var(--neg-300), var(--neg-500)); box-shadow: inset 0 0 0 1px rgba(244,63,94,.25); }
  .fill--neu{ background: linear-gradient(90deg, var(--neu-300), var(--neu-500)); box-shadow: inset 0 0 0 1px rgba(148,163,184,.25); }

  /* Simple table */
  .tbl { @apply w-full border-collapse; }
  .tbl thead th { @apply text-left font-semibold text-slate-300 border-b border-slate-700/60 py-2 pr-4; }
  .tbl tbody td { @apply py-2 pr-4 align-top; }
  .tbl tbody tr { @apply border-t border-slate-700/40; }
  .tbl tbody tr:hover {
    background: linear-gradient(180deg, rgba(148,163,184,.06), rgba(148,163,184,.04));
  }

  /* Expanders */
  details { @apply rounded-xl border bg-slate-900/50; border-color: var(--border-1); }
  details[open] { border-color: var(--border-2); }
  details > summary { list-style: none; }

  /* Status badges */
  .badge {
    @apply inline-flex items-center gap-1 rounded-full px-2.5 py-1
           text-[11px] font-medium;
    border: 1px solid var(--border-1);
    background: rgba(148,163,184,.08);
    color: var(--txt-dim);
  }
  .badge-ok   { @apply border-emerald-700/50 bg-emerald-900/30 text-emerald-200; }
  .badge-warn { @apply border-amber-700/50  bg-amber-900/30  text-amber-100; }
  .badge-err  { @apply border-rose-700/50   bg-rose-900/30   text-rose-100; }

  /* Skeleton / shimmer */
  .skeleton {
    background: linear-gradient(90deg,
      rgba(255,255,255,.06) 25%,
      rgba(255,255,255,.12) 37%,
      rgba(255,255,255,.06) 63%);
    background-size: 800px 100%;
    animation: shimmer 1.4s infinite linear;
    @apply rounded-lg;
  }

  /* Header ribbon */
  .header-ribbon{
    height: 3px;
    border-radius: 999px;
    background: linear-gradient(90deg, rgba(16,185,129,.65), rgba(59,130,246,.65));
    box-shadow: 0 6px 16px rgba(2,6,23,.35), 0 0 0 1px rgba(148,163,184,.18) inset;
  }

  /* Minor helpers */
  .btn-icon { @apply inline-flex items-center justify-center rounded-lg p-2 border; border-color: var(--border-1); }
  .kbd { @apply inline-flex items-center rounded-md border px-2 py-0.5 text-[11px]; border-color: var(--border-1); background: rgba(148,163,184,.08); color: var(--txt-dim); }

  /* ---------- Tabs (for News) ---------- */
  .tabs { @apply flex gap-2; }
  .tab {
    @apply rounded-xl px-4 py-2 text-sm font-medium border transition;
    border-color: var(--border-1);
    background: rgba(30,41,59,.35);
    color: var(--txt-dim);
  }
  .tab:hover { border-color: var(--border-2); color: var(--txt); }
  .tab--active {
    color: var(--txt);
    background: linear-gradient(180deg, rgba(16,185,129,.12), rgba(16,185,129,.08));
    border-color: rgba(16,185,129,.40);
    box-shadow: 0 10px 22px rgba(16,185,129,.14);
  }

  /* ---------- Chart cards & wrappers ---------- */
  .chart-card { @apply card p-4; }
  .h-chart-240 { height: 240px; }
  .h-chart-300 { height: 300px; }
  .h-chart-360 { height: 360px; }

  /* Section title */
  .section-title {
    @apply text-sm font-semibold text-slate-200;
  }

  /* Subtle link */
  .link-muted {
    @apply text-xs text-slate-400 hover:text-slate-300 underline underline-offset-4;
  }
}

/* ---------------- Recharts theming ---------------- */
.recharts-default-tooltip {
  backdrop-filter: var(--glass);
  -webkit-backdrop-filter: var(--glass);
  background: var(--tooltip-bg) !important;
  border: 1px solid var(--tooltip-bd) !important;
  color: var(--txt) !important;
  border-radius: 10px !important;
  padding: 8px 10px !important;
}
.recharts-tooltip-item { color: var(--txt-dim) !important; }
.recharts-legend-item text { fill: var(--chart-legend) !important; font-size: 12px; }
.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line { stroke: var(--chart-grid) !important; }
.recharts-crosshair-line { stroke: var(--chart-cross) !important; }

/* ---------------- Utilities (extras) ---------------- */
@layer utilities {
  .max-w-7xl { @apply max-w-[80rem]; }
  .content-auto { content-visibility: auto; }

  /* BACK SHADES */
  .bg-aurora { position: relative; isolation: isolate; }
  .bg-aurora::before,
  .bg-aurora::after{
    content:"";
    position:absolute; inset:auto;
    width: 55vmax; height: 35vmax; filter: blur(60px);
    z-index:-1; opacity:.22; pointer-events:none;
  }
  .bg-aurora::before{
    top:-12vmax; left:-10vmax;
    background:
      radial-gradient(closest-side, rgba(16,185,129,.45), transparent 70%),
      radial-gradient(closest-side, rgba(59,130,246,.35), transparent 70%);
  }
  .bg-aurora::after{
    bottom:-14vmax; right:-12vmax;
    background:
      radial-gradient(closest-side, rgba(167,139,250,.40), transparent 72%),
      radial-gradient(closest-side, rgba(59,130,246,.28), transparent 75%);
  }

  .bg-grid {
    background-image:
      linear-gradient(to right, rgba(148,163,184,.08) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(148,163,184,.08) 1px, transparent 1px);
    background-size: 28px 28px;
    background-position: 0 0;
  }

  .bg-stripes {
    background-image: repeating-linear-gradient(
      45deg,
      rgba(148,163,184,.10) 0,
      rgba(148,163,184,.10) 8px,
      transparent 8px,
      transparent 16px
    );
  }

  .bg-dots {
    background-image:
      radial-gradient(rgba(148,163,184,.22) 1px, transparent 1px);
    background-size: 12px 12px;
    background-position: 0 0;
  }

  .back-accent { position: relative; }
  .back-accent::before{
    content:"";
    position:absolute; inset:0 0 auto 0; height:6px;
    background: linear-gradient(90deg, rgba(16,185,129,.5), rgba(59,130,246,.5), rgba(167,139,250,.45));
    opacity:.65; border-radius: 0 0 999px 999px;
  }
}

/* ---------------- Keyframes ---------------- */
@keyframes shimmer {
  0%   { background-position: -450px 0; }
  100% { background-position:  450px 0; }
}

/* Needed by colorful Card (animated frame) */
@keyframes cardglow {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Used by Navbar dropdown entrance */
@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}
@keyframes slideIn {
  from { transform: translateX(12px); opacity: 0; }
  to   { transform: translateX(0);    opacity: 1; }
}

/* Used by Panel loading bar */
@keyframes panelload {
  0%   { transform: translateX(-100%); }
  50%  { transform: translateX(30%); }
  100% { transform: translateX(120%); }
}
